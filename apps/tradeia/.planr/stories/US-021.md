# User Story: US-019 - create views to manage strategies

## Status: DONE  
*(Valid values: TODO, IN PROGRESS, DONE)*

## Description:

As a registered user, I want to have a views to manage my strategies. i want to create, edit, delete, activate, deactivate and see the strategies details and results

## Acceptance Criteria:
 see the api documentation to know the endpoints to manage strategies on docs/integrations/postman_collection.json
- [x] create a view to create a strategy, this need to conect with the api /strategies/create
this views should be generate a graphical example of comportment of the strategy while the user select the parameters of the strategy, indicator, timeframes, etc.
- [x] create a view to edit a strategy, this need to conect with the api /strategies/edit
- [x] create a view to see the strategy details, this need to conect with the api /strategies/details

## Task Groups

   1. - [x] create a view to create a strategy, this need to conect with the api /strategies/create
   2. - [x] create a view to edit a strategy, this need to conect with the api /strategies check the api doc
   3. - [x] create a view to see the strategy details, this need to conect with the api

## Estimation: 5 story points

Story Points: 5 SP (5 days of Human Development = 50 minutes of AI development)

## Developer Notes:

### ✅ COMPLETADO - Sistema de Gestión de Estrategias

**Vistas Implementadas:**
1. **Lista de Estrategias** (`/dashboard/strategies`)
   - Vista principal con todas las estrategias del usuario
   - Búsqueda y filtrado por nombre/descripción
   - Métricas de performance (win rate, total trades, P&L)
   - Botones para activar/desactivar, editar y ver detalles
   - Integración completa con API `/api/strategies/`

2. **Crear Estrategia** (`/dashboard/strategies/create`)
   - Formulario completo con validación
   - Selección de indicadores técnicos
   - Configuración de parámetros (stop loss, take profit, max posiciones)
   - Vista previa en tiempo real con métricas simuladas
   - Integración con API POST `/api/strategies/`

3. **Detalles de Estrategia** (`/dashboard/strategies/[id]`)
   - Vista detallada con tabs (Resumen, Señales, Rendimiento)
   - Métricas completas de performance
   - Historial de señales recientes
   - Configuración actual de la estrategia
   - Integración con API GET `/api/strategies/[id]`

4. **Editar Estrategia** (`/dashboard/strategies/[id]/edit`)
   - Formulario de edición con datos precargados
   - Vista previa de cambios
   - Validación de datos
   - Integración con API PUT `/api/strategies/[id]`

**APIs Implementadas:**
- `GET /api/strategies/` - Obtener todas las estrategias y estrategia actual
- `POST /api/strategies/` - Crear nueva estrategia
- `GET /api/strategies/[id]` - Obtener detalles de estrategia específica
- `PUT /api/strategies/[id]` - Actualizar estrategia
- `DELETE /api/strategies/[id]` - Eliminar estrategia
- `POST /api/strategies/set` - Establecer estrategia activa del usuario
- `GET /api/strategies/user/current` - Obtener estrategia actual del usuario
- `GET /api/strategies/comparison` - Comparar todas las estrategias

**Características Técnicas:**
- Autenticación JWT con Supabase
- Validación de permisos (solo el creador puede editar/eliminar)
- Manejo de errores con fallback a datos mock
- UI responsiva con Tailwind CSS
- TypeScript estricto con interfaces definidas
- Integración con sidebar del dashboard
- Estados de carga y manejo de errores

**Base de Datos:**
- Tabla `strategies` para almacenar estrategias
- Tabla `user_strategies` para estrategias activas de usuarios
- Tabla `strategy_performance` para métricas de rendimiento
- Tabla `signals` vinculada a estrategias

**Próximos Pasos:**
- Implementar gráficos reales con Chart.js
- Conectar con sistema de señales en tiempo real
- Agregar backtesting integrado
- Implementar notificaciones de cambios

## Chat Command Log:

- User commands: Create stories for competition to create a best winner strategy
- Agent Response: Created US-019 story for competition to create a best winner strategy
- User commands: Implement US-021 following implement.md steps
- Agent Response: ✅ COMPLETADO - Sistema completo de gestión de estrategias implementado